name: Inject

on:
  workflow_dispatch:

jobs:
  build:
    name: Build project
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4
      - name: Setup Develocity
        uses: gradle/develocity-actions/setup-maven@321dbcf69960d40a308e5b6e61f57fc13b474c99
        with:
          develocity-injection-enabled: true
          develocity-url: 'https://scans.gradle.com'
          develocity-maven-extension-version: 2.0-rc-5
          develocity-maven-repository-url: https://repo.grdev.net/artifactory/enterprise-libs-release-candidates-local/
          develocity-maven-repository-username: ${{ secrets.REPO_USER }}
          develocity-maven-repository-password: ${{ secrets.REPO_PASSWORD }}
      - name: Build
        run: mvn clean install
